/*!
 * Bootstrap-select v1.13.3 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2018 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */
(function(n,t){n===undefined&&window!==undefined&&(n=window);typeof define=="function"&&define.amd?define(["jquery"],function(n){return t(n)}):typeof module=="object"&&module.exports?module.exports=t(require("jquery")):t(n.jQuery)})(this,function(n){(function(n){"use strict";function k(n,t){return n.length===t.length&&n.every(function(n,i){return n===t[i]})}function h(n){var r=[],u=n&&n.options,t,i,f;if(n.multiple)for(i=0,f=u.length;i<f;i++)t=u[i],t.selected&&r.push(t.value||t.text);else r=n.value;return r}function y(n,t,i,r){for(var o,u,s=["content","subtext","tokens"],f=!1,e=0;e<s.length;e++)if(o=s[e],u=n[o],u&&(u=u.toString(),o==="content"&&(u=u.replace(/<[^>]+>/g,"")),r&&(u=d(u)),u=u.toUpperCase(),f=i==="contains"?u.indexOf(t)>=0:u.startsWith(t),f))break;return f}function f(n){return parseInt(n,10)||0}function d(t){return n.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function w(u){var o=arguments,f=u,e,s;if([].shift.apply(o),!r.success){try{r.full=(n.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(h){r.full=i.BootstrapVersion.split(" ")[0].split(".")}r.major=r.full[0];r.success=!0;r.major==="4"&&(t.DIVIDER="dropdown-divider",t.SHOW="show",t.BUTTONCLASS="btn-light",i.DEFAULTS.style=t.BUTTONCLASS="btn-light",t.POPOVERHEADER="popover-header")}return s=this.each(function(){var u=n(this),t,r,h,s;if(u.is("select")){if(t=u.data("selectpicker"),r=typeof f=="object"&&f,t){if(r)for(s in r)r.hasOwnProperty(s)&&(t.options[s]=r[s])}else h=n.extend({},i.DEFAULTS,n.fn.selectpicker.defaults||{},u.data(),r),h.template=n.extend({},i.DEFAULTS.template,n.fn.selectpicker.defaults?n.fn.selectpicker.defaults.template:{},u.data().template,r.template),u.data("selectpicker",t=new i(this,h));typeof f=="string"&&(e=t[f]instanceof Function?t[f].apply(t,o):t.options[f])}}),typeof e!="undefined"?e:s}var l=document.createElement("_"),a,o,e,v,t,c,b;l.classList.toggle("c3",!1);l.classList.contains("c3")&&(a=DOMTokenList.prototype.toggle,DOMTokenList.prototype.toggle=function(n,t){return 1 in arguments&&!this.contains(n)==!t?t:a.call(this,n)});String.prototype.startsWith||function(){var n=function(){try{var n={},t=Object.defineProperty,i=t(n,n,n)&&t}catch(r){}return i}(),i={}.toString,t=function(n){var u,f,r;if(this==null)throw new TypeError;if(u=String(this),n&&i.call(n)=="[object RegExp]")throw new TypeError;var e=u.length,o=String(n),s=o.length,h=arguments.length>1?arguments[1]:undefined,t=h?Number(h):0;if(t!=t&&(t=0),f=Math.min(Math.max(t,0),e),s+f>e)return!1;for(r=-1;++r<s;)if(u.charCodeAt(f+r)!=o.charCodeAt(r))return!1;return!0};n?n(String.prototype,"startsWith",{value:t,configurable:!0,writable:!0}):String.prototype.startsWith=t}();Object.keys||(Object.keys=function(n,t,i){i=[];for(t in n)i.hasOwnProperty.call(n,t)&&i.push(t);return i});o={useDefault:!1,_set:n.valHooks.select.set};n.valHooks.select.set=function(t,i){return i&&!o.useDefault&&n(t).data("selected",!0),o._set.apply(this,arguments)};e=null;v=function(){try{return new Event("change"),!0}catch(n){return!1}}();n.fn.triggerNative=function(n){var i=this[0],t;i.dispatchEvent?(v?t=new Event(n,{bubbles:!0}):(t=document.createEvent("Event"),t.initEvent(n,!0,!1)),i.dispatchEvent(t)):i.fireEvent?(t=document.createEventObject(),t.eventType=n,i.fireEvent("on"+n,t)):this.trigger(n)};var p=function(n){var i=function(t){return n[t]},t="(?:"+Object.keys(n).join("|")+")",r=RegExp(t),u=RegExp(t,"g");return function(n){return n=n==null?"":""+n,r.test(n)?n.replace(u,i):n}},s=p({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),g=p({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),nt={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},u={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},r={success:!1,major:"3"};try{r.full=(n.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".");r.major=r.full[0];r.success=!0}catch(tt){console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",tt)}t={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title"};c={MENU:"."+t.MENU};r.major==="4"&&(t.DIVIDER="dropdown-divider",t.SHOW="show",t.BUTTONCLASS="btn-light",t.POPOVERHEADER="popover-header");var it=new RegExp(u.ARROW_UP+"|"+u.ARROW_DOWN),rt=new RegExp("^"+u.TAB+"$|"+u.ESCAPE),ut=new RegExp(u.ENTER+"|"+u.SPACE),i=function(t,r){var f=this,u;o.useDefault||(n.valHooks.select.set=o._set,o.useDefault=!0);this.$element=n(t);this.$newElement=null;this.$button=null;this.$menu=null;this.options=r;this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){f.selectpicker.keydown.keyHistory=""},800)}}}};this.options.title===null&&(this.options.title=this.$element.attr("title"));u=this.options.windowPadding;typeof u=="number"&&(this.options.windowPadding=[u,u,u,u]);this.val=i.prototype.val;this.render=i.prototype.render;this.refresh=i.prototype.refresh;this.setStyle=i.prototype.setStyle;this.selectAll=i.prototype.selectAll;this.deselectAll=i.prototype.deselectAll;this.destroy=i.prototype.destroy;this.remove=i.prototype.remove;this.show=i.prototype.show;this.hide=i.prototype.hide;this.init()};i.VERSION="1.13.3";i.BootstrapVersion=r.major;i.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(n){return n==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(n,t){return[n==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:t.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"fa",tickIcon:"fa-check",showTick:!1,template:{caret:'<span class="caret"><\/span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1};r.major==="4"&&(i.DEFAULTS.style="btn-light",i.DEFAULTS.iconBase="fa",i.DEFAULTS.tickIcon="fa-check");i.prototype={constructor:i,init:function(){var n=this,i=this.$element.attr("id");if(this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(c.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight===!0&&this.$menu.addClass(t.MENURIGHT),typeof i!="undefined"&&this.$button.attr("data-id",i),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container)this.selectPosition();else this.$element.on("hide.bs.select",function(){if(n.isVirtual()){var t=n.$menuInner[0],i=t.firstChild.cloneNode(!1);t.replaceChild(i,t.firstChild);t.scrollTop=0}});this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!1);n.$element.trigger("hide.bs.select",t)},"hidden.bs.dropdown":function(t){n.$element.trigger("hidden.bs.select",t)},"show.bs.dropdown":function(t){n.$menuInner.attr("aria-expanded",!0);n.$element.trigger("show.bs.select",t)},"shown.bs.dropdown":function(t){n.$element.trigger("shown.bs.select",t)}});if(n.$element[0].hasAttribute("required"))this.$element.on("invalid",function(){n.$button.addClass("bs-invalid");n.$element.on({"shown.bs.select.invalid":function(){n.$element.val(n.$element.val()).off("shown.bs.select.invalid")},"rendered.bs.select":function(){this.validity.valid&&n.$button.removeClass("bs-invalid");n.$element.off("rendered.bs.select")}});n.$button.on("blur.bs.select",function(){n.$element.focus().blur();n.$button.off("blur.bs.select")})});setTimeout(function(){n.$element.trigger("loaded.bs.select")})},createDropdown:function(){var h=this.multiple||this.options.showTick?" show-tick":"",c=this.autofocus?" autofocus":"",i,u="",f="",e="",o="";return this.options.header&&(u='<div class="'+t.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;<\/button>'+this.options.header+"<\/div>"),this.options.liveSearch&&(f='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+s(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"><\/div>'),this.multiple&&this.options.actionsBox&&(e='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+t.BUTTONCLASS+'">'+this.options.selectAllText+'<\/button><button type="button" class="actions-btn bs-deselect-all btn '+t.BUTTONCLASS+'">'+this.options.deselectAllText+"<\/button><\/div><\/div>"),this.multiple&&this.options.doneButton&&(o='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+t.BUTTONCLASS+'">'+this.options.doneButtonText+"<\/button><\/div><\/div>"),i='<div class="dropdown bootstrap-select'+h+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+(this.options.display==="static"?'data-display="static"':"")+'data-toggle="dropdown"'+c+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"><\/div><\/div> <\/div>'+(r.major==="4"?"":'<span class="bs-caret">'+this.options.template.caret+"<\/span>")+'<\/button><div class="'+t.MENU+" "+(r.major==="4"?"":t.SHOW)+'" role="combobox">'+u+f+e+'<div class="inner '+t.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+t.MENU+" inner "+(r.major==="4"?t.SHOW:"")+'"><\/ul><\/div>'+o+"<\/div><\/div>",n(i)},setPositionData:function(){var t,n,i;for(this.selectpicker.view.canHighlight=[],t=0;t<this.selectpicker.current.data.length;t++)n=this.selectpicker.current.data[t],i=!0,n.type==="divider"?(i=!1,n.height=this.sizeInfo.dividerHeight):n.type==="optgroup-label"?(i=!1,n.height=this.sizeInfo.dropdownHeaderHeight):n.height=this.sizeInfo.liHeight,n.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),n.position=(t===0?0:this.selectpicker.current.data[t-1].position)+n.height},isVirtual:function(){return this.options.virtualScroll!==!1&&this.selectpicker.main.elements.length>=this.options.virtualScroll||this.options.virtualScroll===!0},createView:function(t,i){function o(n,i){var s=r.selectpicker.current.elements.length,b=[],y,p,g,nt,h=undefined,d,tt,it,rt=!0,l=r.isVirtual(),w,o,st,a,v;for(r.selectpicker.view.scrollTop=n,l===!0&&r.sizeInfo.hasScrollBar&&r.$menu[0].offsetWidth>r.sizeInfo.totalMenuWidth&&(r.sizeInfo.menuWidth=r.$menu[0].offsetWidth,r.sizeInfo.totalMenuWidth=r.sizeInfo.menuWidth+r.sizeInfo.scrollBarWidth,r.$menu.css("min-width",r.sizeInfo.menuWidth)),y=Math.ceil(r.sizeInfo.menuInnerHeight/r.sizeInfo.liHeight*1.5),p=Math.round(s/y)||1,o=0;o<p;o++){if(w=(o+1)*y,o===p-1&&(w=s),b[o]=[o*y+(o?1:0),w],!s)break;h===undefined&&n<=r.selectpicker.current.data[w-1].position-r.sizeInfo.menuInnerHeight&&(h=o)}if(h===undefined&&(h=0),d=[r.selectpicker.view.position0,r.selectpicker.view.position1],g=Math.max(0,h-1),nt=Math.min(p-1,h+1),r.selectpicker.view.position0=Math.max(0,b[g][0])||0,r.selectpicker.view.position1=Math.min(s,b[nt][1])||0,tt=d[0]!==r.selectpicker.view.position0||d[1]!==r.selectpicker.view.position1,r.activeIndex!==undefined&&(f=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.prevActiveIndex]],e=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.activeIndex]],u=r.selectpicker.current.elements[r.selectpicker.current.map.newIndex[r.selectedIndex]],i&&(r.activeIndex!==r.selectedIndex&&(e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active")),r.activeIndex=undefined),r.activeIndex&&r.activeIndex!==r.selectedIndex&&u&&u.length&&(u.classList.remove("active"),u.firstChild&&u.firstChild.classList.remove("active"))),r.prevActiveIndex!==undefined&&r.prevActiveIndex!==r.activeIndex&&r.prevActiveIndex!==r.selectedIndex&&f&&f.length&&(f.classList.remove("active"),f.firstChild&&f.firstChild.classList.remove("active")),(i||tt)&&(it=r.selectpicker.view.visibleElements?r.selectpicker.view.visibleElements.slice():[],r.selectpicker.view.visibleElements=r.selectpicker.current.elements.slice(r.selectpicker.view.position0,r.selectpicker.view.position1),r.setOptionStatus(),(t||l===!1&&i)&&(rt=!k(it,r.selectpicker.view.visibleElements)),(i||l===!0)&&rt)){var c=r.$menuInner[0],ut=document.createDocumentFragment(),ht=c.firstChild.cloneNode(!1),ft,et,ot=l===!0?r.selectpicker.view.visibleElements:r.selectpicker.current.elements;for(c.replaceChild(ht,c.firstChild),o=0,st=ot.length;o<st;o++)ut.appendChild(ot[o]);l===!0&&(ft=r.selectpicker.view.position0===0?0:r.selectpicker.current.data[r.selectpicker.view.position0-1].position,et=r.selectpicker.view.position1>s-1?0:r.selectpicker.current.data[s-1].position-r.selectpicker.current.data[r.selectpicker.view.position1-1].position,c.firstChild.style.marginTop=ft+"px",c.firstChild.style.marginBottom=et+"px");c.firstChild.appendChild(ut)}r.prevActiveIndex=r.activeIndex;r.options.liveSearch?t&&i&&(a=0,r.selectpicker.view.canHighlight[a]||(a=1+r.selectpicker.view.canHighlight.slice(1).indexOf(!0)),v=r.selectpicker.view.visibleElements[a],r.selectpicker.view.currentActive&&(r.selectpicker.view.currentActive.classList.remove("active"),r.selectpicker.view.currentActive.firstChild&&r.selectpicker.view.currentActive.firstChild.classList.remove("active")),v&&(v.classList.add("active"),v.firstChild&&v.firstChild.classList.add("active")),r.activeIndex=r.selectpicker.current.map.originalIndex[a]):r.$menuInner.focus()}var r,e,u,f;i=i||0;r=this;this.selectpicker.current=t?this.selectpicker.search:this.selectpicker.main;e=[];this.setPositionData();o(i,!0);this.$menuInner.off("scroll.createView").on("scroll.createView",function(n,t){r.noScroll||o(this.scrollTop,t);r.noScroll=!1});n(window).off("resize.createView").on("resize.createView",function(){o(r.$menuInner[0].scrollTop)})},createLi:function(){var f=this,o=[],b,y=0,k=0,u=[],h=0,p=0,e=-1,i,w,c,it,v;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));i={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" ")};c=document.createDocumentFragment();(f.options.showTick||f.multiple)&&(w=i.span.cloneNode(!1),w.className=f.options.iconBase+" "+f.options.tickIcon+" check-mark",i.a.appendChild(w));i.a.setAttribute("role","option");i.subtext.className="text-muted";i.text=i.span.cloneNode(!1);i.text.className="text";var l=function(n,t,r){var u=i.li.cloneNode(!1);return n&&(n.nodeType===1||n.nodeType===11?u.appendChild(n):u.innerHTML=n),typeof t!="undefined"&&""!==t&&(u.className=t),typeof r!="undefined"&&null!==r&&u.classList.add("optgroup-"+r),u},d=function(n,t,u){var f=i.a.cloneNode(!0);return n&&(n.nodeType===11?f.appendChild(n):f.insertAdjacentHTML("beforeend",n)),typeof t!="undefined"&""!==t&&(f.className=t),r.major==="4"&&f.classList.add("dropdown-item"),u&&f.setAttribute("style",u),f},g=function(n){var t=i.text.cloneNode(!1),r,u,e;return n.optionContent?t.innerHTML=n.optionContent:(t.textContent=n.text,n.optionIcon&&(e=i.whitespace.cloneNode(!1),u=i.span.cloneNode(!1),u.className=f.options.iconBase+" "+n.optionIcon,c.appendChild(u),c.appendChild(e)),n.optionSubtext&&(r=i.subtext.cloneNode(!1),r.innerHTML=n.optionSubtext,t.appendChild(r))),c.appendChild(t),c},rt=function(n){var t=i.text.cloneNode(!1),r,u,e;return t.innerHTML=n.labelEscaped,n.labelIcon&&(e=i.whitespace.cloneNode(!1),u=i.span.cloneNode(!1),u.className=f.options.iconBase+" "+n.labelIcon,c.appendChild(u),c.appendChild(e)),n.labelSubtext&&(r=i.subtext.cloneNode(!1),r.textContent=n.labelSubtext,t.appendChild(r)),c.appendChild(t),c};if(this.options.title&&!this.multiple){e--;var a=this.$element[0],nt=!1,tt=!this.selectpicker.view.titleOption.parentNode;tt&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",it=n(a.options[a.selectedIndex]),nt=it.attr("selected")===undefined&&this.$element.data("selected")===undefined);(tt||this.selectpicker.view.titleOption.index!==0)&&a.insertBefore(this.selectpicker.view.titleOption,a.firstChild);nt&&(a.selectedIndex=0)}v=this.$element.find("option");v.each(function(i){var ft=n(this),yt,pt,ti,a,nt,tt;if(e++,!ft.hasClass("bs-title-option")){var r=ft.data(),wt=this.className||"",bt=s(this.style.cssText),et=r.content,ot=this.textContent,kt=r.tokens,st=r.subtext,lt=r.icon,it=ft.parent(),ut=it[0],at=ut.tagName==="OPTGROUP",dt=at&&ut.disabled,ht=this.disabled||dt,c,w=this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP",ct,vt=it.data();if(r.hidden===!0||f.options.hideDisabled&&(ht&&!at||dt)){c=r.prevHiddenIndex;ft.next().data("prevHiddenIndex",c!==undefined?c:i);e--;w||c!==undefined&&(a=v[c].previousElementSibling,a&&a.tagName==="OPTGROUP"&&!a.disabled&&(w=!0));w&&u[u.length-1].type!=="divider"&&(e++,o.push(l(!1,t.DIVIDER,h+"div")),u.push({type:"divider",optID:h}));return}if(at&&r.divider!==!0){if(f.options.hideDisabled&&ht&&(vt.allOptionsDisabled===undefined&&(yt=it.children(),it.data("allOptionsDisabled",yt.filter(":disabled").length===yt.length)),it.data("allOptionsDisabled"))){e--;return}if(pt=" "+ut.className||"",!this.previousElementSibling){h+=1;var ii=ut.label,gt=s(ii),ni=vt.subtext,ri=vt.icon;i!==0&&o.length>0&&(e++,o.push(l(!1,t.DIVIDER,h+"div")),u.push({type:"divider",optID:h}));e++;ti=rt({labelEscaped:gt,labelSubtext:ni,labelIcon:ri});o.push(l(ti,"dropdown-header"+pt,h));u.push({content:gt,subtext:ni,type:"optgroup-label",optID:h});p=e-1}if(f.options.hideDisabled&&ht||r.hidden===!0){e--;return}ct=g({text:ot,optionContent:et,optionSubtext:st,optionIcon:lt});o.push(l(d(ct,"opt "+wt+pt,bt),"",h));u.push({content:et||ot,subtext:st,tokens:kt,type:"option",optID:h,headerIndex:p,lastIndex:p+ut.childElementCount,originalIndex:i,data:r});y++}else r.divider===!0?(o.push(l(!1,t.DIVIDER)),u.push({type:"divider",originalIndex:i,data:r})):(!w&&f.options.hideDisabled&&(c=r.prevHiddenIndex,c!==undefined&&(a=v[c].previousElementSibling,a&&a.tagName==="OPTGROUP"&&!a.disabled&&(w=!0))),w&&u[u.length-1].type!=="divider"&&(e++,o.push(l(!1,t.DIVIDER,h+"div")),u.push({type:"divider",optID:h})),ct=g({text:ot,optionContent:et,optionSubtext:st,optionIcon:lt}),o.push(l(d(ct,wt,bt))),u.push({content:et||ot,subtext:st,tokens:kt,type:"option",originalIndex:i,data:r}),y++);f.selectpicker.main.map.newIndex[i]=e;f.selectpicker.main.map.originalIndex[e]=i;nt=u[u.length-1];nt.disabled=ht;tt=0;nt.content&&(tt+=nt.content.length);nt.subtext&&(tt+=nt.subtext.length);lt&&(tt+=1);tt>k&&(k=tt,b=o[o.length-1])}});this.selectpicker.main.elements=o;this.selectpicker.main.data=u;this.selectpicker.current=this.selectpicker.main;this.selectpicker.view.widestOption=b;this.selectpicker.view.availableOptionsCount=y},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var i=this,p=this.$element.find("option"),r=[],e=[],f,h,c,n,u,l,a,v,t,o,s,y;for(this.togglePlaceholder(),this.tabIndex(),f=0,h=this.selectpicker.main.elements.length;f<h;f++)if(c=this.selectpicker.main.map.originalIndex[f],n=p[c],n&&n.selected&&(r.push(n),e.length<100&&i.options.selectedTextFormat!=="count"||r.length===1)){if(i.options.hideDisabled&&(n.disabled||n.parentNode.tagName==="OPTGROUP"&&n.parentNode.disabled))return;u=this.selectpicker.main.data[f].data;l=u.icon&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+u.icon+'"><\/i> ':"";a=i.options.showSubtext&&u.subtext&&!i.multiple?' <small class="text-muted">'+u.subtext+"<\/small>":"";v=n.title?n.title:u.content&&i.options.showContent?u.content.toString():l+n.innerHTML.trim()+a;e.push(v)}t=this.multiple?e.join(this.options.multipleSeparator):e[0];r.length>50&&(t+="...");this.multiple&&this.options.selectedTextFormat.indexOf("count")!==-1&&(o=this.options.selectedTextFormat.split(">"),(o.length>1&&r.length>o[1]||o.length===1&&r.length>=2)&&(s=this.selectpicker.view.availableOptionsCount,y=typeof this.options.countSelectedText=="function"?this.options.countSelectedText(r.length,s):this.options.countSelectedText,t=y.replace("{0}",r.length.toString()).replace("{1}",s.toString())));this.options.title==undefined&&(this.options.title=this.$element.attr("title"));this.options.selectedTextFormat=="static"&&(t=this.options.title);t||(t=typeof this.options.title!="undefined"?this.options.title:this.options.noneSelectedText);this.$button[0].title=g(t.replace(/<[^>]*>?/g,"").trim());try{this.$button.find(".filter-option-inner-inner")[0].innerHTML=t}catch(w){}this.$element.trigger("rendered.bs.select")},setStyle:function(n,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=n?n:this.options.style;t=="add"?this.$button.addClass(i):t=="remove"?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(i){var d;if(i||this.options.size!==!1&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var c=document.createElement("div"),e=document.createElement("div"),a=document.createElement("div"),s=document.createElement("ul"),k=document.createElement("li"),l=document.createElement("li"),nt=document.createElement("li"),v=document.createElement("a"),y=document.createElement("span"),p=this.options.header&&this.$menu.find("."+t.POPOVERHEADER).length>0?this.$menu.find("."+t.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,w=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,b=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,tt=this.$element.find("option")[0];this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth;y.className="text";v.className="dropdown-item "+(tt?tt.className:"");c.className=this.$menu[0].parentNode.className+" "+t.SHOW;c.style.width=this.sizeInfo.selectWidth+"px";this.options.width==="auto"&&(e.style.minWidth=0);e.className=t.MENU+" "+t.SHOW;a.className="inner "+t.SHOW;s.className=t.MENU+" inner "+(r.major==="4"?t.SHOW:"");k.className=t.DIVIDER;l.className="dropdown-header";y.appendChild(document.createTextNode("​"));v.appendChild(y);nt.appendChild(v);l.appendChild(y.cloneNode(!0));this.selectpicker.view.widestOption&&s.appendChild(this.selectpicker.view.widestOption.cloneNode(!0));s.appendChild(nt);s.appendChild(k);s.appendChild(l);p&&e.appendChild(p);h&&(d=document.createElement("input"),h.className="bs-searchbox",d.className="form-control",h.appendChild(d),e.appendChild(h));w&&e.appendChild(w);a.appendChild(s);e.appendChild(a);b&&e.appendChild(b);c.appendChild(e);document.body.appendChild(c);var ut=v.offsetHeight,ft=l?l.offsetHeight:0,et=p?p.offsetHeight:0,ot=h?h.offsetHeight:0,st=w?w.offsetHeight:0,ht=b?b.offsetHeight:0,ct=n(k).outerHeight(!0),u=window.getComputedStyle?window.getComputedStyle(e):!1,it=e.offsetWidth,o=u?null:n(e),g={vert:f(u?u.paddingTop:o.css("paddingTop"))+f(u?u.paddingBottom:o.css("paddingBottom"))+f(u?u.borderTopWidth:o.css("borderTopWidth"))+f(u?u.borderBottomWidth:o.css("borderBottomWidth")),horiz:f(u?u.paddingLeft:o.css("paddingLeft"))+f(u?u.paddingRight:o.css("paddingRight"))+f(u?u.borderLeftWidth:o.css("borderLeftWidth"))+f(u?u.borderRightWidth:o.css("borderRightWidth"))},lt={vert:g.vert+f(u?u.marginTop:o.css("marginTop"))+f(u?u.marginBottom:o.css("marginBottom"))+2,horiz:g.horiz+f(u?u.marginLeft:o.css("marginLeft"))+f(u?u.marginRight:o.css("marginRight"))+2},rt;a.style.overflowY="scroll";rt=e.offsetWidth-it;document.body.removeChild(c);this.sizeInfo.liHeight=ut;this.sizeInfo.dropdownHeaderHeight=ft;this.sizeInfo.headerHeight=et;this.sizeInfo.searchHeight=ot;this.sizeInfo.actionsHeight=st;this.sizeInfo.doneButtonHeight=ht;this.sizeInfo.dividerHeight=ct;this.sizeInfo.menuPadding=g;this.sizeInfo.menuExtras=lt;this.sizeInfo.menuWidth=it;this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth;this.sizeInfo.scrollBarWidth=rt;this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight;this.setPositionData()}},getSelectPosition:function(){var r=this,u=n(window),e=r.$newElement.offset(),f=n(r.options.container),t,i;r.options.container&&!f.is("body")?(t=f.offset(),t.top+=parseInt(f.css("borderTopWidth")),t.left+=parseInt(f.css("borderLeftWidth"))):t={top:0,left:0};i=r.options.windowPadding;this.sizeInfo.selectOffsetTop=e.top-t.top-u.scrollTop();this.sizeInfo.selectOffsetBot=u.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-i[2];this.sizeInfo.selectOffsetLeft=e.left-t.left-u.scrollLeft();this.sizeInfo.selectOffsetRight=u.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-i[1];this.sizeInfo.selectOffsetTop-=i[0];this.sizeInfo.selectOffsetLeft-=i[3]},setMenuSize:function(){var u;this.getSelectPosition();var w=this.sizeInfo.selectWidth,v=this.sizeInfo.liHeight,f=this.sizeInfo.headerHeight,e=this.sizeInfo.searchHeight,o=this.sizeInfo.actionsHeight,s=this.sizeInfo.doneButtonHeight,b=this.sizeInfo.dividerHeight,i=this.sizeInfo.menuPadding,r,n,y=0,h,c,l,a,p;if(this.options.dropupAuto&&(p=v*this.selectpicker.current.elements.length+i.vert,this.$newElement.toggleClass(t.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&p+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),this.options.size==="auto")c=this.selectpicker.current.elements.length>3?this.sizeInfo.liHeight*3+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,h=c+f+e+o+s,a=Math.max(c-i.vert,0),this.$newElement.hasClass(t.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),l=n,r=n-f-e-o-s-i.vert;else if(this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size){for(u=0;u<this.options.size;u++)this.selectpicker.current.data[u].type==="divider"&&y++;n=v*this.options.size+y*b+i.vert;r=n-i.vert;l=n+f+e+o+s;h=a=""}this.options.dropdownAlignRight==="auto"&&this.$menu.toggleClass(t.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-w);this.$menu.css({"max-height":l+"px",overflow:"hidden","min-height":h+"px"});this.$menuInner.css({"max-height":r+"px","overflow-y":"auto","min-height":a+"px"});this.sizeInfo.menuInnerHeight=r;this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth));this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),this.options.size!==!1){var i=this,f=n(window),u,r=0;if(this.setMenuSize(),this.options.size==="auto"){this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()});f.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return i.setMenuSize()})}else this.options.size&&this.options.size!="auto"&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),f.off("resize.setMenuSize scroll.setMenuSize"));t?r=this.$menuInner[0].scrollTop:i.multiple||(u=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex],typeof u=="number"&&i.options.size!==!1&&(r=i.sizeInfo.liHeight*u,r=r-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2));i.createView(!1,r)}},setWidth:function(){var n=this;this.options.width==="auto"?requestAnimationFrame(function(){n.$menu.css("min-width","0");n.liHeight();n.setMenuSize();var t=n.$newElement.clone().appendTo("body"),i=t.css("width","auto").children("button").outerWidth();t.remove();n.sizeInfo.selectWidth=Math.max(n.sizeInfo.totalMenuWidth,i);n.$newElement.css("width",n.sizeInfo.selectWidth+"px")}):this.options.width==="fit"?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=n('<div class="bs-container" />');var i=this,u=n(this.options.container),e,f,o,s=function(s){var h={},c=i.options.display||(n.fn.dropdown.Constructor.Default?n.fn.dropdown.Constructor.Default.display:!1);i.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(t.DROPUP,s.hasClass(t.DROPUP));e=s.offset();u.is("body")?f={top:0,left:0}:(f=u.offset(),f.top+=parseInt(u.css("borderTopWidth"))-u.scrollTop(),f.left+=parseInt(u.css("borderLeftWidth"))-u.scrollLeft());o=s.hasClass(t.DROPUP)?0:s[0].offsetHeight;(r.major<4||c==="static")&&(h.top=e.top-f.top+o,h.left=e.left-f.left);h.width=s[0].offsetWidth;i.$bsContainer.css(h)};this.$button.on("click.bs.dropdown.data-api",function(){i.isDisabled()||(s(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass(t.SHOW,!i.$button.hasClass(t.SHOW)).append(i.$menu))});n(window).on("resize scroll",function(){s(i.$newElement)});this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height());i.$bsContainer.detach()})},setOptionStatus:function(){var n=this,e=this.$element.find("option"),r,i,t,u,f;if(n.noScroll=!1,n.selectpicker.view.visibleElements&&n.selectpicker.view.visibleElements.length)for(r=0;r<n.selectpicker.view.visibleElements.length;r++)i=n.selectpicker.current.map.originalIndex[r+n.selectpicker.view.position0],t=e[i],t&&(u=this.selectpicker.main.map.newIndex[i],f=this.selectpicker.main.elements[u],n.setDisabled(i,t.disabled||t.parentNode.tagName==="OPTGROUP"&&t.parentNode.disabled,u,f),n.setSelected(i,t.selected,u,f))},setSelected:function(n,t,i,r){var o=this.activeIndex!==undefined,h=this.activeIndex===n,s,f,u,e=h||t&&!this.multiple&&!o;i||(i=this.selectpicker.main.map.newIndex[n]);r||(r=this.selectpicker.main.elements[i]);u=r.firstChild;t&&(this.selectedIndex=n);r.classList.toggle("selected",t);r.classList.toggle("active",e);e&&(this.selectpicker.view.currentActive=r,this.activeIndex=n);u&&(u.classList.toggle("selected",t),u.classList.toggle("active",e),u.setAttribute("aria-selected",t));e||!o&&t&&this.prevActiveIndex!==undefined&&(s=this.selectpicker.main.map.newIndex[this.prevActiveIndex],f=this.selectpicker.main.elements[s],f.classList.remove("active"),f.firstChild&&f.firstChild.classList.remove("active"))},setDisabled:function(n,i,u,f){var e;u||(u=this.selectpicker.main.map.newIndex[n]);f||(f=this.selectpicker.main.elements[u]);e=f.firstChild;f.classList.toggle(t.DISABLED,i);e&&(r.major==="4"&&e.classList.toggle(t.DISABLED,i),e.setAttribute("aria-disabled",i),i?e.setAttribute("tabindex",-1):e.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var n=this;this.isDisabled()?(this.$newElement.addClass(t.DISABLED),this.$button.addClass(t.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(t.DISABLED)&&(this.$newElement.removeClass(t.DISABLED),this.$button.removeClass(t.DISABLED).attr("aria-disabled",!1)),this.$button.attr("tabindex")!=-1||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!n.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],i=t.selectedIndex,n=i===-1;n||t.options[i].value||(n=!0);this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&this.$element.attr("tabindex")!==-98&&this.$element.attr("tabindex")!=="-98"&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",-98)},clickListener:function(){function f(){i.options.liveSearch?i.$searchbox.focus():i.$menuInner.focus()}function o(){i.dropdown&&i.dropdown._popper&&i.dropdown._popper.state.isCreated?f():requestAnimationFrame(o)}var i=this,u=n(document);u.data("spaceSelect",!1);this.$button.on("keyup",function(n){/(32)/.test(n.keyCode.toString(10))&&u.data("spaceSelect")&&(n.preventDefault(),u.data("spaceSelect",!1))});this.$newElement.on("show.bs.dropdown",function(){r.major>3&&!i.dropdown&&(i.dropdown=i.$button.data("bs.dropdown"),i.dropdown._menu=i.$menu[0])});this.$button.on("click.bs.dropdown.data-api",function(){i.$newElement.hasClass(t.SHOW)||i.setSize()});this.$element.on("shown.bs.select",function(){i.$menuInner[0].scrollTop!==i.selectpicker.view.scrollTop&&(i.$menuInner[0].scrollTop=i.selectpicker.view.scrollTop);r.major>3?requestAnimationFrame(o):f()});this.$menuInner.on("click","li a",function(r,u){var w=n(this),et=i.isVirtual()?i.selectpicker.view.position0:0,s=i.selectpicker.current.map.originalIndex[w.parent().index()+et],it=h(i.$element[0]),ot=i.$element.prop("selectedIndex"),b=!0,k,d,l,ft;if(i.multiple&&i.options.maxOptions!==1&&r.stopPropagation(),r.preventDefault(),!i.isDisabled()&&!w.parent().hasClass(t.DISABLED)){var a=i.$element.find("option"),c=a.eq(s),rt=c.prop("selected"),y=c.parent("optgroup"),ut=y.find("option"),f=i.options.maxOptions,o=y.data("maxOptions")||!1;if(s===i.activeIndex&&(u=!0),u||(i.prevActiveIndex=i.activeIndex,i.activeIndex=undefined),i.multiple){if(c.prop("selected",!rt),i.setSelected(s,!rt),w.blur(),(f!==!1||o!==!1)&&(k=f<a.filter(":selected").length,d=o<y.find("option:selected").length,f&&k||o&&d))if(f&&f==1){for(a.prop("selected",!1),c.prop("selected",!0),l=0;l<a.length;l++)i.setSelected(l,!1);i.setSelected(s,!0)}else if(o&&o==1){for(y.find("option:selected").prop("selected",!1),c.prop("selected",!0),l=0;l<ut.length;l++)ft=ut[l],i.setSelected(a.index(ft),!1);i.setSelected(s,!0)}else{var g=typeof i.options.maxOptionsText=="string"?[i.options.maxOptionsText,i.options.maxOptionsText]:i.options.maxOptionsText,v=typeof g=="function"?g(f,o):g,nt=v[0].replace("{n}",f),tt=v[1].replace("{n}",o),p=n('<div class="notify"><\/div>');v[2]&&(nt=nt.replace("{var}",v[2][f>1?0:1]),tt=tt.replace("{var}",v[2][o>1?0:1]));c.prop("selected",!1);i.$menu.append(p);f&&k&&(p.append(n("<div>"+nt+"<\/div>")),b=!1,i.$element.trigger("maxReached.bs.select"));o&&d&&(p.append(n("<div>"+tt+"<\/div>")),b=!1,i.$element.trigger("maxReachedGrp.bs.select"));setTimeout(function(){i.setSelected(s,!1)},10);p.delay(750).fadeOut(300,function(){n(this).remove()})}}else a.prop("selected",!1),c.prop("selected",!0),i.setSelected(s,!0);!i.multiple||i.multiple&&i.options.maxOptions===1?i.$button.focus():i.options.liveSearch&&i.$searchbox.focus();b&&(it!=h(i.$element[0])&&i.multiple||ot!=i.$element.prop("selectedIndex")&&!i.multiple)&&(e=[s,c.prop("selected"),it],i.$element.triggerNative("change"))}});this.$menu.on("click","li."+t.DISABLED+" a, ."+t.POPOVERHEADER+", ."+t.POPOVERHEADER+" :not(.close)",function(t){t.currentTarget==this&&(t.preventDefault(),t.stopPropagation(),i.options.liveSearch&&!n(t.target).hasClass("close")?i.$searchbox.focus():i.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(n){n.preventDefault();n.stopPropagation();i.options.liveSearch?i.$searchbox.focus():i.$button.focus()});this.$menu.on("click","."+t.POPOVERHEADER+" .close",function(){i.$button.click()});this.$searchbox.on("click",function(n){n.stopPropagation()});this.$menu.on("click",".actions-btn",function(t){i.options.liveSearch?i.$searchbox.focus():i.$button.focus();t.preventDefault();t.stopPropagation();n(this).hasClass("bs-select-all")?i.selectAll():i.deselectAll()});this.$element.on({change:function(){i.render();i.$element.trigger("changed.bs.select",e);e=null},focus:function(){i.options.mobile||i.$button.focus()}})},liveSearchListener:function(){var n=this,t=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){!n.$searchbox.val()||n.$searchbox.val("")});this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(n){n.stopPropagation()});this.$searchbox.on("input propertychange",function(){var o=n.$searchbox.val(),i,r,h;if(n.selectpicker.search.map.newIndex={},n.selectpicker.search.map.originalIndex={},n.selectpicker.search.elements=[],n.selectpicker.search.data=[],o){var r,e=[],a=o.toUpperCase(),u={},f=[],v=n._searchStyle(),p=n.options.liveSearchNormalize;for(n._$lisSelected=n.$menuInner.find(".selected"),r=0;r<n.selectpicker.main.data.length;r++)i=n.selectpicker.main.data[r],u[r]||(u[r]=y(i,a,v,p)),u[r]&&i.headerIndex!==undefined&&f.indexOf(i.headerIndex)===-1&&(i.headerIndex>0&&(u[i.headerIndex-1]=!0,f.push(i.headerIndex-1)),u[i.headerIndex]=!0,f.push(i.headerIndex),u[i.lastIndex+1]=!0),u[r]&&i.type!=="optgroup-label"&&f.push(r);for(r=0,h=f.length;r<h;r++){var c=f[r],w=f[r-1],i=n.selectpicker.main.data[c],l=n.selectpicker.main.data[w];(i.type!=="divider"||i.type==="divider"&&l&&l.type!=="divider"&&h-1!==r)&&(n.selectpicker.search.data.push(i),e.push(n.selectpicker.main.elements[c]),i.hasOwnProperty("originalIndex")&&(n.selectpicker.search.map.newIndex[i.originalIndex]=e.length-1,n.selectpicker.search.map.originalIndex[e.length-1]=i.originalIndex))}n.activeIndex=undefined;n.noScroll=!0;n.$menuInner.scrollTop(0);n.selectpicker.search.elements=e;n.createView(!0);e.length||(t.className="no-results",t.innerHTML=n.options.noneResultsText.replace("{0}",'"'+s(o)+'"'),n.$menuInner[0].firstChild.appendChild(t))}else n.$menuInner.scrollTop(0),n.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(n){return typeof n!="undefined"?(this.$element.val(n),this.render(),this.$element.trigger("changed.bs.select",e),e=null,this.$element):this.$element.val()},changeAll:function(n){var t;if(this.multiple){typeof n=="undefined"&&(n=!0);var f=this.$element.find("option"),r=0,u=0,o=h(this.$element[0]);for(this.$element.addClass("bs-select-hidden"),t=0;t<this.selectpicker.current.elements.length;t++){var s=this.selectpicker.current.data[t],c=this.selectpicker.current.map.originalIndex[t],i=f[c];i&&!i.disabled&&s.type!=="divider"&&(i.selected&&r++,i.selected=n,i.selected&&u++)}(this.$element.removeClass("bs-select-hidden"),r!==u)&&(this.setOptionStatus(),this.togglePlaceholder(),e=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(n){n=n||window.event;n&&n.stopPropagation();this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(i){var a=n(this),ot=a.hasClass("dropdown-toggle"),lt=ot?a.closest(".dropdown"):a.closest(c.MENU),r=lt.data("this"),v=r.findLis(),f,g,e,o,h,b=!1,ft=i.which===u.TAB&&!ot&&!r.options.selectOnTab,st=it.test(i.which)||ft,tt=r.$menuInner[0].scrollTop,ht=r.isVirtual(),s=ht===!0?r.selectpicker.view.position0:0,p,et,w,k,d,ut,ct,l;if(g=r.$newElement.hasClass(t.SHOW),!g&&(st||i.which>=48&&i.which<=57||i.which>=96&&i.which<=105||i.which>=65&&i.which<=90)&&r.$button.trigger("click.bs.dropdown.data-api"),i.which===u.ESCAPE&&g&&(i.preventDefault(),r.$button.trigger("click.bs.dropdown.data-api").focus()),st){if(!v.length)return;f=ht===!0?v.index(v.filter(".active")):r.selectpicker.current.map.newIndex[r.activeIndex];f===undefined&&(f=-1);f!==-1&&(e=r.selectpicker.current.elements[f+s],e.classList.remove("active"),e.firstChild&&e.firstChild.classList.remove("active"));i.which===u.ARROW_UP?(f!==-1&&f--,f+s<0&&(f+=v.length),r.selectpicker.view.canHighlight[f+s]||(f=r.selectpicker.view.canHighlight.slice(0,f+s).lastIndexOf(!0)-s,f===-1&&(f=v.length-1))):(i.which===u.ARROW_DOWN||ft)&&(f++,f+s>=r.selectpicker.view.canHighlight.length&&(f=0),r.selectpicker.view.canHighlight[f+s]||(f=f+1+r.selectpicker.view.canHighlight.slice(f+s+1).indexOf(!0)));i.preventDefault();p=s+f;i.which===u.ARROW_UP?s===0&&f===v.length-1?(r.$menuInner[0].scrollTop=r.$menuInner[0].scrollHeight,p=r.selectpicker.current.elements.length-1):(o=r.selectpicker.current.data[p],h=o.position-o.height,b=h<tt):(i.which===u.ARROW_DOWN||ft)&&(f===0?(r.$menuInner[0].scrollTop=0,p=0):(o=r.selectpicker.current.data[p],h=o.position-r.sizeInfo.menuInnerHeight,b=h>tt));e=r.selectpicker.current.elements[p];e&&(e.classList.add("active"),e.firstChild&&e.firstChild.classList.add("active"));r.activeIndex=r.selectpicker.current.map.originalIndex[p];r.selectpicker.view.currentActive=e;b&&(r.$menuInner[0].scrollTop=h);r.options.liveSearch?r.$searchbox.focus():a.focus()}else if(!a.is("input")&&!rt.test(i.which)||i.which===u.SPACE&&r.selectpicker.keydown.keyHistory){for(w=[],i.preventDefault(),r.selectpicker.keydown.keyHistory+=nt[i.which],r.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(r.selectpicker.keydown.resetKeyHistory.cancel),r.selectpicker.keydown.resetKeyHistory.cancel=r.selectpicker.keydown.resetKeyHistory.start(),k=r.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(k)&&(k=k.charAt(0)),d=0;d<r.selectpicker.current.data.length;d++)ut=r.selectpicker.current.data[d],ct=y(ut,k,"startsWith",!0),ct&&r.selectpicker.view.canHighlight[d]&&(ut.index=d,w.push(ut.originalIndex));w.length&&(l=0,v.removeClass("active").find("a").removeClass("active"),k.length===1&&(l=w.indexOf(r.activeIndex),l===-1||l===w.length-1?l=0:l++),et=r.selectpicker.current.map.newIndex[w[l]],o=r.selectpicker.current.data[et],tt-o.position>0?(h=o.position-o.height,b=!0):(h=o.position-r.sizeInfo.menuInnerHeight,b=o.position>tt+r.sizeInfo.menuInnerHeight),e=r.selectpicker.current.elements[et],e.classList.add("active"),e.firstChild&&e.firstChild.classList.add("active"),r.activeIndex=w[l],e.firstChild.focus(),b&&(r.$menuInner[0].scrollTop=h),a.focus())}g&&(i.which===u.SPACE&&!r.selectpicker.keydown.keyHistory||i.which===u.ENTER||i.which===u.TAB&&r.options.selectOnTab)&&(i.which!==u.SPACE&&i.preventDefault(),r.options.liveSearch&&i.which===u.SPACE||(r.$menuInner.find(".active a").trigger("click",!0),a.focus(),r.options.liveSearch||(i.preventDefault(),n(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=n.extend({},this.options,this.$element.data());this.options=t;this.selectpicker.main.map.newIndex={};this.selectpicker.main.map.originalIndex={};this.createLi();this.checkDisabled();this.render();this.setStyle();this.setWidth();this.setSize(!0);this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};b=n.fn.selectpicker;n.fn.selectpicker=w;n.fn.selectpicker.Constructor=i;n.fn.selectpicker.noConflict=function(){return n.fn.selectpicker=b,this};n(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',i.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(n){n.stopPropagation()});n(window).on("load.bs.select.data-api",function(){n(".selectpicker").each(function(){var t=n(this);w.call(t,t.data())})})})(n)});